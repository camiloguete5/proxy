services:
  - type: web
    name: zcentral-proxy-v2
    env: docker
    region: oregon
    plan: free
    dockerfilePath: ./Dockerfile
    dockerContext: ./

    # Variables de entorno (simplificadas)
    envVars:
      - key: LARAVEL_APP_URL
        value: https://tu-app-laravel.com
        # IMPORTANTE: Cambia esto por la URL real de tu aplicación Laravel

      - key: PORT
        value: 8080

      - key: MAX_UPLOAD_SIZE
        value: 100
        # Tamaño máximo de archivos en MB

      - key: PROXY_TIMEOUT
        value: 60
        # Timeout en segundos

    # Health check
    healthCheckPath: /health

    # Auto-deploy desde Git
    autoDeploy: true
